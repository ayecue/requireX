/* Name: requireX.js, Author: swe, Version: 0.0.1.2 */
(function(){"use strict";var e="require",t="isLoaded",n="isLoading",r="onLoaded",i="module",s="modules",o="direction",u="onLoad",a="onProgress";var f={},l={},c={},h=document,p=null,d=function(e){var t=c[e];if(t){var n;while(n=t.shift())n(e);c[e]=null}},v=function(e,t){if(!p)p=h.getElementsByTagName("head");var n=document.createElement("script");n.async=false;n.src=e;n.onload=n.onreadystatechange=function(e,r){if(r||!n.readyState||/loaded|complete/i.test(n.readyState)){n.onload=n.onreadystatechange=null;if(n.parentNode)n.parentNode.removeChild(n);n=null;if(t)t(!r)}};n.onerror=function(e){n.onload(e,true)};if(p&&p[0])p[0].appendChild(n)},m=function(e,t){var n;e=e.replace(/\?([^?]*)$/,function(e,t){n="&"+t;return""});if(!/.js$/i.test(e))e+=".js";return{request:n,file:e,direction:t}},g=function(e,t){var n,r;if(t){n=e;r=t}else{try{n=e.match(/([^\/]+)$/)[1];r=e.match(/(.*?)(?:[^\/]+)$/)[1]}catch(i){n=e;r="/"}}return m(n,r)},y=function(e,t,n){var r=g(t[i]||t,t[o]||n||null);if(l[r.file]=!f[r.file]&&!l[r.file])e.push(r);else d(r.file)},b=function(e,t){if(!/^(string|object)$/.test(typeof e))return;var n=[];if(e instanceof Array)for(var r=0,i=e.length;r<i;y(n,e[r++],t));else y(n,e,t);return n};var w=function(e,t){if(!e)return;var n=e[s]||false,r=e[o]||false,i=e[a]||false,u=false,c=b(n,r),h=function(){var e=c.shift();if(!e){if(t)t();u=false;return}if(!f[e.file]){v(e.direction+e.file+"?_="+(new Date).getTime()+(e.request||""),function(t){l[e.file]=false;if(f[e.file]=t)d(e.file);if(i)i(e.file,e.direction,t);h()})}};return{load:function(){if(!u){u=true;h()}},destroy:function(){n=r=u=c=y=h=null}}};window[e]=function(e){var t=new w(e,function(){if(e[u])e[u]();t.destroy();t=null});t.load()};window[n]=function(e){return!!l[m(e).file]};window[t]=function(e){return!!f[m(e).file]};window[r]=function(e,t){var n=m(e).file;if(!c[n])c[n]=[];c[n].push(t)}}).call(this)
